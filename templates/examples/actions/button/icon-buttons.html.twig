<?php

namespace App\UI\Toolbox\Feedback;

use Symfony\UX\TwigComponent\Attribute\AsTwigComponent;
use Symfony\UX\TwigComponent\Attribute\UIComponentDoc;
use Symfony\UX\TwigComponent\Attribute\UIComponentExample;
use Symfony\UX\TwigComponent\Attribute\UIComponentProp;

#[AsTwigComponent('loading', template: '@UIToolbox/ui/feedback/loading.html.twig')]
#[UIComponentDoc('UI/Toolbox/Feedback/Loading.md')]
#[UIComponentProp(
    name: 'style',
    type: 'string',
    description: 'Loading style',
    allowedValues: ['spinner', 'dots', 'ring', 'ball', 'bars', 'infinity'],
)]
#[UIComponentProp(
    name: 'size',
    type: 'string',
    description: 'Size of the loading animation',
    allowedValues: ['xs', 'sm', 'md', 'lg', 'xl'],
)]
#[UIComponentProp(
    name: 'class',
    type: 'string',
    description: 'Additional CSS classes',
)]
#[UIComponentExample(
    title: 'Loading spinner',
    description: 'Spinner loading animation',
    templateName: '@UIToolboxDoc/examples/feedback/loading/loading-spinner.html.twig',
)]
#[UIComponentExample(
    title: 'Loading dots',
    description: 'Dots loading animation',
    templateName: '@UIToolboxDoc/examples/feedback/loading/loading-dots.html.twig',
)]
#[UIComponentExample(
    title: 'Loading ring',
    description: 'Ring loading animation',
    templateName: '@UIToolboxDoc/examples/feedback/loading/loading-ring.html.twig',
)]
#[UIComponentExample(
    title: 'Loading ball',
    description: 'Ball loading animation',
    templateName: '@UIToolboxDoc/examples/feedback/loading/loading-ball.html.twig',
)]
#[UIComponentExample(
    title: 'Loading bars',
    description: 'Bars loading animation',
    templateName: '@UIToolboxDoc/examples/feedback/loading/loading-bars.html.twig',
)]
#[UIComponentExample(
    title: 'Loading infinity',
    description: 'Infinity loading animation',
    templateName: '@UIToolboxDoc/examples/feedback/loading/loading-infinity.html.twig',
)]
#[UIComponentExample(
    title: 'Loading with colors',
    description: 'Loading animation with color classes',
    templateName: '@UIToolboxDoc/examples/feedback/loading/loading-colors.html.twig',
)]
class Loading
{
    public ?string $style = null;
    public ?string $size = null;
    public ?string $class = null;

    public function getClasses(): string
    {
        $classes = ['loading'];

        if ($this->style) {
            $classes[] = 'loading-' . $this->style;
        }

        if ($this->size) {
            $classes[] = 'loading-' . $this->size;
        }

        if ($this->class) {
            $classes[] = $this->class;
        }

        return implode(' ', $classes);
    }
}
